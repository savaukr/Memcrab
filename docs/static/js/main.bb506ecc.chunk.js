(this.webpackJsonpmemcrab=this.webpackJsonpmemcrab||[]).push([[0],[,,,,,,,,,,,,function(t,e,n){},function(t,e,n){},,function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var a=n(1),c=n.n(a),r=n(7),o=n.n(r),i=(n(12),n(6)),s=n(4),u=(n(13),n(0)),d=function(t){var e=t.addRowHandle;return Object(u.jsx)("div",{className:"addrRow-wrap",children:Object(u.jsx)("button",{onClick:e,children:"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0440\u044f\u0434\u043e\u043a"})})},l=function(t){var e=t.footerClass,n=t.deleteHandle,a=t.ind;return e?Object(u.jsx)(u.Fragment,{}):Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("button",{onClick:n,"data-ind":a,children:"\xd7"})})},f=(n(15),function(t){var e=t.arrRow,n=t.footerClass,a=t.deleteHandle,c=t.ind,r=t.increaseAmount,o=t.focusCeil,i=t.focusCeilSum,s=t.mouseOut,d=function(t){return t.reduce((function(t,e){return t+e.amount}),0)}(e),f=e.map((function(t){var e={height:2*Math.round(100*t.amount/d)+"%"};return Object(u.jsxs)("div",{className:"matrix-ceil ".concat(n||""," ").concat(t.bright?"bright":""," ").concat(t.part?"part":""),"data-id":t.id,onClick:r,onMouseOver:o,onMouseOut:s,children:[t.part?Object(u.jsx)("div",{children:"".concat(Math.round(100*t.amount/d),"%")}):t.amount,Object(u.jsx)("div",{style:e})]},t.id)}));return Object(u.jsxs)("div",{className:"matrix-row",children:[Object(u.jsx)("div",{className:"matrix-ceil sidebar-row",children:Object(u.jsx)(l,{footerClass:n,ind:c,deleteHandle:a})}),f,Object(u.jsx)("div",{className:"matrix-ceil sum","data-id":"sum","data-ind":c,onMouseOver:i,onMouseOut:i,children:d})]})}),h=(n(16),function(t){var e=t.arr,n=t.deleteHandle,c=t.increaseAmount,r=t.focusCeil,o=t.focusCeilSum,i=t.mouseOut,d=Object(a.useState)(),l=Object(s.a)(d,2),h=l[0],j=l[1];var m=function(t){for(var e=[],n=t.length||0,a=t[0].length||0,c=0;c<a;c++){for(var r=0,o=0;o<n;o++)r+=t[o][c].amount;e[c]={id:"footer".concat(c),amount:Math.ceil(r/n)}}return e};return Object(a.useEffect)((function(){j(function(t){for(var e=[],a=0;a<t.length;a++)e[a]=Object(u.jsx)(f,{arrRow:t[a],deleteHandle:n,ind:a,increaseAmount:c,focusCeilSum:o,focusCeil:r,mouseOut:i},a);return e[t.length]=Object(u.jsx)(f,{arrRow:m(t),footerClass:"footer"},t.length),e}(e))}),[e]),Object(u.jsx)("div",{className:"matrix-wrap",children:Object(u.jsxs)("div",{className:"matrix-content",children:[Object(u.jsx)("div",{className:"matrix-header",children:"\u0421\u0443\u043c\u0430 \u043f\u043e \u0440\u044f\u0434\u043a\u0443"}),h]})})});var j=function(){var t=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=[],a=0;a<t;a++)n[a]=o(e,a);return n}(),e=Object(a.useState)(t),n=Object(s.a)(e,2),c=n[0],r=n[1];function o(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=arguments.length>1?arguments[1]:void 0,n=[],a=0;a<t;a++){var c=Math.floor(1001*Math.random());n[a]={id:"".concat(e,"x").concat(a),amount:c,bright:!1,part:!1}}return n}var l=function(t){var e=c.concat();e.push(o(10,c.length)),r(e)},f=function(t){try{if(t.target.dataset.id){var e=+t.target.dataset.id.split("x")[0],n=+t.target.dataset.id.split("x")[1],a=c.concat();(function(t,e,n){for(var a=[],c=0,r=0;r<t.length;r++)for(var o=0;o<t[r].length;o++)a[c]=Object.assign({},t[r][o]),c++;a.sort((function(t,e){return t.amount-e.amount}));var s,u,d=+a.findIndex((function(t){return t.amount===e.amount}));for(s=d-Math.ceil(n/2),u=d+Math.ceil(n/2);s<0;)s++,u++;for(;u>=a.length;)s--,u--;if(n%2){var l=a[s].amount-a[d].amount,f=a[d].amount-a[u].amount;l!==f&&l>f?s++:u--}return[].concat(Object(i.a)(a.slice(s,d)),Object(i.a)(a.slice(d,u+1)))})(a,a[e][n],5).forEach((function(t){var e=+t.id.split("x")[0],n=+t.id.split("x")[1];t.bright=!t.bright,a[e][n]=Object.assign({},t)})),r(a)}}catch(o){throw o}};try{return c.length?Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)(h,{arr:c,deleteHandle:function(t){var e=c.concat();e.splice(t.target.dataset.ind,1);for(var n=t.target.dataset.ind;n<e.length;n++)for(var a=0;a<e[n].length;a++){var o=+e[n][a].id.split("x")[0];e[n][a].id="".concat(o-1,"x").concat(a)}r(e)},increaseAmount:function(t){if(t.target.dataset.id){var e=c.concat(),n=+t.target.dataset.id.split("x")[0],a=+t.target.dataset.id.split("x")[1];e[n][a].amount=e[n][a].amount+1,r(e)}},focusCeilSum:function(t){var e=+t.target.dataset.ind,n=c.concat();n[e].forEach((function(t){t.part=!t.part})),r(n)},focusCeil:f,mouseOut:function(t){var e=c.concat();f(t),e.forEach((function(t){t.forEach((function(t){return t.bright=!1}))}))}}),Object(u.jsx)(d,{addRowHandle:l})]}):Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("h1",{children:"\u041d\u0435\u043c\u0430\u0454 \u0436\u043e\u0434\u043d\u043e\u0457 \u0441\u0442\u0440\u0456\u0447\u043a\u0438!"}),Object(u.jsx)(d,{addRowHandle:l})]})}catch(j){console.log(j.message)}},m=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,r=e.getLCP,o=e.getTTFB;n(t),a(t),c(t),r(t),o(t)}))};o.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(j,{})}),document.getElementById("root")),m()}],[[17,1,2]]]);
//# sourceMappingURL=main.bb506ecc.chunk.js.map